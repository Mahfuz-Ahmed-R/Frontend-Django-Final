<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
        <!-- Brand -->
        <a class="navbar-brand" href="index.html">
          <img
            src="https://via.placeholder.com/100x30?text=FOREVER."
            alt="Brand Logo"
            style="max-height: 30px"
          />
        </a>

        <!-- Navbar links -->
        <div
          class="collapse navbar-collapse justify-content-center"
          id="navbarNav"
        >
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" href="index.html">HOME</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="collections.html">COLLECTION</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="about.html">ABOUT</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="contact.html">CONTACT</a>
            </li>
            <li class="nav-item" id="auth-links">
              <a href="login.html">Login</a>/<a href="register.html"
                >Register</a
              >
            </li>
          </ul>
        </div>
        <!-- Icons and Search -->
        <div class="d-flex align-items-center">
          <div class="dropdown" id="dropdown-box">
            <button
              class="btn btn-secondary dropdown-toggle"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              <i class="fa-solid fa-user" style="font-size: 1.5rem"></i>
            </button>
            <ul class="dropdown-menu">
              <li id="profile-link">
                <a class="dropdown-item" href="profile.html">Profile</a>
              </li>
              <li id="orders-link">
                <a class="dropdown-item" href="myOrders.html">My Orders</a>
              </li>
              <li id="wishlist-link">
                <a class="dropdown-item" href="wishList.html">WishList</a>
              </li>
              <li id="logout-link">
                <button class="dropdown-item" onclick="handleLogout()">
                  Logout
                </button>
              </li>
            </ul>
          </div>
          <button class="btn btn-link p-0">
            <a href="cart.html"
              ><i
                class="fa-solid fa-cart-shopping"
                style="font-size: 1.5rem"
              ></i
            ></a>
          </button>
        </div>
        <!-- Toggler button -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </nav>
    <section>
      <div
        id="carouselExampleAutoplaying"
        class="carousel slide"
        data-bs-ride="carousel"
      >
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="images/images/1.jpg" class="d-block w-100" alt="..." />
          </div>
          <div class="carousel-item">
            <img src="images/images/2.webp" class="d-block w-100" alt="..." />
          </div>
          <div class="carousel-item">
            <img src="images/images/3.jpg" class="d-block w-100" alt="..." />
          </div>
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExampleAutoplaying"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselExampleAutoplaying"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </section>
    <div class="products-section">
      <h4
        class="text-center text-white mt-2 p-2"
        style="background-color: black"
      >
        FREE RETURNS ON ALL ORDERS
      </h4>
    </div>
    <h3 class="mt-5 text-center">NEW DROPS</h3>
    <hr />
    <section>
      <div
        class="d-flex justify-content-center align-items-center mt-5"
        id="product-container"
      >
        <!-- Product cards will be rendered here -->
      </div>
    </section>
    <section>
      <div
        class="brand-history d-flex flex-wrap flex-column justify-content-center align-items-center mt-5"
      >
        <img src="images/images/banner.webp" alt="" />
        <p class="mt-3">SINCE 2013</p>
        <h5 class="mt-2">
          HELPING OUR COMMUNITY EXPLORE THEIR INNER STREET ARTIST
        </h5>
        <small
          >Our aim is to build the biggest self-sustaining Underground community
          by empowering vari0.us artists and athletes.</small
        >
        <img src="images/images/favicon-um.webp" alt="" class="mt-2" />
        <a href="about.html" class="btn btn-dark mt-4 text-white p-2"
          >MORE ABOUT US</a
        >
      </div>
    </section>
    <h3 class="mt-5 text-center">REVIEWS</h3>
    <hr />
    <section>
      <div
        class="d-flex justify-content-evenly align-items-center"
        id="reviews"
      ></div>
    </section>
    <footer class="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-6 col-lg-6 footer-section">
            <div class="footer-logo">FOREVER<span>.</span></div>
            <p class="footer-text" style="width: 80%">
              At FOREVER, we believe that style should never fade, which is why
              we offer timeless fashion that remains as captivating as ever. Our
              collection embodies "Style That Stays Forever", blending classic
              looks with contemporary trends to ensure you always find "Timeless
              Fashion, Forever Yours". Each piece is crafted to provide
              "Enduring Elegance, Forever in Style", making sure that every
              garment reflects "Forever Chic, Forever Unique". At FOREVER, we
              celebrate the beauty of "Classic Looks, Forever Trends" and strive
              to offer "Forever Fashioned for You". With "Ageless Apparel,
              Forever Fresh", our aim is to keep you looking "Forever Fabulous,
              Always in Vogue". Discover a place "Where Fashion Lasts Forever"
              and be inspired by our promise of "Forever Inspired, Forever
              Fashionable".
            </p>
          </div>
          <div class="col-md-6 col-lg-3 footer-section">
            <h4>COMPANY</h4>
            <ul class="footer-links">
              <li><a href="index.html">Home</a></li>
              <li><a href="about.html">About us</a></li>
              <li><a href="contact.html">Contact</a></li>
              <li><a href="privacy.html">Privacy policy</a></li>
            </ul>
          </div>
          <div class="col-md-6 col-lg-3 footer-section">
            <h4>GET IN TOUCH</h4>
            <div class="footer-contact">
              <p>+1-212-456-7890</p>
              <p>contact@foreveryou.com</p>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.3/font/bootstrap-icons.min.css"></script>
    <script>
      function handleLogout() {
        // Remove user_id from localStorage
        localStorage.removeItem("user_id");

        // Redirect to homepage or login page after logout
        window.location.href = "login.html";
      }

      fetch("https://django-final-n0lr.onrender.com/product/")
        .then((response) => response.json())
        .then((data) => {
          collection(data), console.log(data);
        });

      fetch(`https://django-final-n0lr.onrender.com/review/`)
        .then((response) => response.json())
        .then((reviewData) => {
          show_review(reviewData);
          console.log(reviewData);
        });

      const collection = (products) => {
        const main_div = document.getElementById("product-container");
        products.slice(0, 3).forEach((product) => {
          const div = document.createElement("div");
          div.classList.add("card");
          div.style.margin = "10px";
          div.style.width = "18rem";
          div.innerHTML = `
                <a href="productDetailsPage.html?id=${product.id}" class="text-decoration-none">
                    <img src="${product.image_1}" class="card-img-top" alt="Product Image">
                    <div class="card-body">
                        <h6 class="card-title">${product.name}</h6>
                        <p class="card-text">৳${product.price}</p>
                    </div>
                </a>
            `;
          main_div.appendChild(div);
        });
      };
      const show_review = (reviews) => {
        const reviews_div = document.getElementById("reviews");

        reviews.slice(0, 3).forEach((review) => {
          const div = document.createElement("div");
          div.innerHTML = `
                <div class="card mb-4">
                    <div class="card-body">
                        <h5 class="card-title">Customer: ${review.customer_name}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Rating: ★${review.rating}</h6>
                        <p class="card-text">Review: ${review.review}</p>
                        <p class="text-muted">Reviewed on: ${review.date_added}</p>
                    </div>
                </div>
            `;
          reviews_div.appendChild(div);
        });
      };
    </script>
    <script src="scripts.js"></script>
    <script src="auth.js"></script>
  </body>
</html>
